"use strict";const charactersList=document.querySelector(".js-characters-list"),favList=document.querySelector(".js-fav-list"),searchBtn=document.querySelector(".js-search-btn"),input=document.querySelector(".js-input");let allCharacters=[],favCharacters=[];function renderOneCharacter(e){const t=document.createElement("li");t.classList.add("character"),t.classList.add("js-character");const a=document.createElement("img");a.classList.add("character__img"),a.src=e.img,a.setAttribute("alt","image of "+e.name),t.appendChild(a);const r=document.createElement("h3");r.classList.add("character__name");const c=document.createTextNode(e.name);r.appendChild(c),t.appendChild(r);const n=document.createElement("p");n.classList.add("character__status");const s=document.createTextNode(e.status);return n.appendChild(s),t.appendChild(n),t}function renderAllCharacters(){charactersList.innerHTML="";for(let e=0;e<allCharacters.length;e++){const t=renderOneCharacter(allCharacters[e]);charactersList.appendChild(t),t.dataset.id=allCharacters[e].char_id}const e=document.querySelectorAll(".js-character");for(const t of e)t.addEventListener("click",handleClickCharacter)}function handleSearchBtn(e){e.preventDefault();const t=allCharacters.filter(e=>e.name.toLowerCase().includes(input.value.toLowerCase()));charactersList.innerHTML="";for(let e=0;e<t.length;e++){const a=renderOneCharacter(t[e]);charactersList.appendChild(a)}}function renderFavCharacters(){favList.innerHTML="";for(let e=0;e<favCharacters.length;e++){const t=renderOneCharacter(favCharacters[e]);favList.appendChild(t)}}function handleClickCharacter(e){if(e.currentTarget.classList.toggle("selected"),e.currentTarget.classList.contains("selected")){const t=allCharacters.find(t=>parseInt(t.char_id)===parseInt(e.currentTarget.getAttribute("data-id")));favCharacters.find(t=>parseInt(t.char_id)===parseInt(e.currentTarget.getAttribute("data-id")))||favCharacters.push(t)}else{const t=favCharacters.findIndex(t=>parseInt(t.char_id)===parseInt(e.currentTarget.getAttribute("data-id")));favCharacters.splice(t,1)}renderFavCharacters()}fetch("https://breakingbadapi.com/api/characters").then(e=>e.json()).then(e=>{allCharacters=e,renderAllCharacters()}),searchBtn.addEventListener("click",handleSearchBtn);